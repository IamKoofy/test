post {
        always {
            // Archive HTML Report
            archiveArtifacts artifacts: 'path/to/report/**', allowEmptyArchive: true
            
            // Publish HTML Report
            publishHTML (target: [
                allowMissing: false,
                alwaysLinkToLastBuild: true,
                keepAll: true,
                reportDir: 'path/to/report',
                reportFiles: 'index.html',
                reportName: 'HTML Report'
            ])
        }
        
        success {
            // Send email with link to the archived HTML Report
            emailext (
                subject: "Build Successful: ${currentBuild.fullDisplayName}",
                body: """
                <p>Build was successful!</p>
                <p>View the <a href="${BUILD_URL}artifact/path/to/report/index.html">HTML Report</a></p>
                """,
                mimeType: 'text/html',
                to: 'recipient@example.com'
            )
        }
        
        failure {
            // Send email on failure
            emailext (
                subject: "Build Failed: ${currentBuild.fullDisplayName}",
                body: """
                <p>Build failed. Please check the Jenkins logs.</p>
                """,
                mimeType: 'text/html',
                to: 'recipient@example.com'
            )
        }
    }
}
